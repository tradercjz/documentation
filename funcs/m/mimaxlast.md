# mimaxLast

## 语法

`mimaxLast(X, window, [minPeriods])`

## 参数

**X** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**window** 是大于等于 2 的正整型或 DURATION 标量。表示滑动窗口的长度。

注： 在流计算引擎中调用滑动窗口函数时，window 的上限为 102400。

**minPeriods** 是一个正整数。为滑动窗口中最少包含的观测值数据。

## 详情

在给定长度（以元素个数或时间长度衡量）的滑动窗口内计算 *X*
中最大元素的位置。如果窗口内存在多个相同的最大值，则返回右起第一个最大值的位置。与所有其它聚合函数一致，计算时忽略 NULL 值。

## 例子

```
x = 1.2 2 NULL -1 6 -1
mimaxLast(x,3);
// output:
[,,1,0,2,1]

m=matrix(3 2 4 4 2, 1 4 2 4 3);
mimaxLast(m,3)
```

| #0 | #1 |
| --- | --- |
|  |  |
|  |  |
| 2 | 1 |
| 2 | 2 |
| 1 | 1 |

```
t=table(3 3 2 as c1, 1 4 4 as c2)
mimaxLast(t,3)
```

| #0 | #1 |
| --- | --- |
|  |  |
|  |  |
| 1 | 2 |

```
x = [NULL, 2, NULL, NULL, 3.2]
date = [0, 1, 3,  8, 9] + 2020.01.01
X = indexedSeries(date, x)
mimaxLast(X, 3d)
```

|  | #0 |
| --- | --- |
| 2020.01.01 | -1 |
| 2020.01.02 | 1 |
| 2020.01.04 | 0 |
| 2020.01.09 | -1 |
| 2020.01.10 | 1 |

相关函数：[mimax](mimax.md)

