# mmse

## 语法

`mmse(Y, X, window, [minPeriods])`

## 参数

**Y** 是一个向量，表示因变量。

**X** 是一个向量，表示自变量。

**window** 是一个正整数，表示滑动窗口的长度。

**minPeriods** 是一个正整数。如果一个滑动窗口中的非 NULL 值的数量小于 *minPeriods*，那么该窗口的结果为NULL。

## 详情

在给定长度（以元素个数衡量）的滑动窗口内，将因变量 *Y* 与自变量 *X*
进行普通最小二乘回归的系数估计并计算均方误差。计算公式如下：

![](../../images/mmse.png)

返回的结果是包含两个向量的元组，第一个向量是普通最小二乘回归的系数估计，第二个向量是均方误差。

## 例子

```
x=0.011 0.006 -0.008 0.012 -0.016 -0.023 0.018
y=0.016 0.009 -0.012 0.022 0.003 -0.056 0.002;

mmse(y, x, 5)[0];

//output: [,,,,0.818182,1.692379,1.188532]

mmse(y, x, 5)[1];

//output: [,,,,0.000055,0.000231,0.000332]

select y, x, mmse(y,x,5,3) as `mbeta`mmse from table(x,y);
```

返回：

| y | x | mbeta | mmse |
| --- | --- | --- | --- |
| 0.016 | 0.011 |  |  |
| 0.009 | 0.006 |  |  |
| -0.012 | -0.008 | 1.479381 | 2.806415E-8 |
| 0.022 | 0.012 | 1.594701 | 0.000003 |
| 0.003 | -0.016 | 0.818182 | 0.000055 |
| -0.056 | -0.023 | 1.692379 | 0.000231 |
| 0.002 | 0.018 | 1.188532 | 0.000332 |

