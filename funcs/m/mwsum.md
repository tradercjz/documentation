# mwsum

## 语法

`mwsum(X, Y, window, [minPeriods])`

窗口计算规则请参考：[mFunctions](../themes/mFunctions.md)

## 参数

**X** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**Y** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**window** 是大于等于 2 的正整型或 DURATION 标量。表示滑动窗口的长度。

注： 在流计算引擎中调用滑动窗口函数时，window 的上限为 102400。

**minPeriods** 是一个正整数。为滑动窗口中最少包含的观测值数据。

## 详情

在给定长度（以元素个数或时间长度衡量）的滑动窗口内，计算 *X* 和 *Y* 元素的内积。

## 例子

```
X = 2 1 3 7 6 5 4
X1 = 2 1 3 NULL 6 5 4
Y = 1 0.5 1 1 2 2.1 2

mwsum(X, Y, 3);
// output
[,,5.5,10.5,22,29.5,30.5]

mwsum(X1, Y, 3)
// output
[,,5.5,3.5,15,22.5,30.5]

mwsum(X1, Y, 3, minPeriods=1)
// output
[2,2.5,5.5,3.5,15,22.5,30.5]
```

```
X = 1..10;
Y = 9 5 3 4 5 4 7 1 3 4;
X1 = indexedSeries(date(2020.06.05)+1..10, X)
Y1 = indexedSeries(date(2020.06.05)+1..10, Y)
mwsum(X1, Y1, 5d)
```

| label | col1 |
| --- | --- |
| 2020.06.06 | 9 |
| 2020.06.07 | 19 |
| 2020.06.08 | 28 |
| 2020.06.09 | 44 |
| 2020.06.10 | 69 |
| 2020.06.11 | 84 |
| 2020.06.12 | 123 |
| 2020.06.13 | 122 |
| 2020.06.14 | 133 |
| 2020.06.15 | 148 |

```
mwsum(X1, Y1, 1w)
```

| label | col1 |
| --- | --- |
| 2020.06.06 | 9 |
| 2020.06.07 | 19 |
| 2020.06.08 | 28 |
| 2020.06.09 | 44 |
| 2020.06.10 | 69 |
| 2020.06.11 | 93 |
| 2020.06.12 | 142 |
| 2020.06.13 | 141 |
| 2020.06.14 | 158 |
| 2020.06.15 | 189 |

相关函数：[wsum](../w/wsum.md), [msum](msum.md)

