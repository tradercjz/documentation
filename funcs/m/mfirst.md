# mfirst

## 语法

`mfirst(X, window, [minPeriods])`

窗口计算规则请参考：[mFunctions](../themes/mFunctions.md)

## 参数

**X** 是一个向量/矩阵/表/由等长向量组成的元组。其中，mmse, mslr 仅支持输入向量。

**window** 是大于等于 2 的正整型或 DURATION 标量。表示滑动窗口的长度。

注： 在流计算引擎中调用滑动窗口函数时，window 的上限为 102400。

**minPeriods** 是一个正整数。为滑动窗口中最少包含的观测值数据。

## 详情

在给定长度（以元素个数或时间长度衡量）的滑动窗口内计算 *X* 的第一个元素。

## 例子

```
index = second(08:20:00)+1..7
x = 2 1 3 NULL 6 5 4
x = index.indexedSeries(x)
mfirst(x,3s)
```

| label | col1 |
| --- | --- |
| 08:20:01 | 2 |
| 08:20:02 | 2 |
| 08:20:03 | 2 |
| 08:20:04 | 1 |
| 08:20:05 | 3 |
| 08:20:06 |  |
| 08:20:07 | 6 |

```
m = matrix(1 5 9 0 2, 9 10 2 NULL 2)
m.rename!((date(2020.09.08)+1..3) join 2020.09.16 join 2020.09.26, `A`B)
m.setIndexedMatrix!()
mfirst(m, 3d)
```

| label | A | B |
| --- | --- | --- |
| 2020.09.09 | 1 | 9 |
| 2020.09.10 | 1 | 9 |
| 2020.09.11 | 1 | 9 |
| 2020.09.16 | 0 |  |
| 2020.09.26 | 2 | 2 |

```
mfirst(m, 1w)
```

| label | A | B |
| --- | --- | --- |
| 2020.09.09 | 1 | 9 |
| 2020.09.10 | 1 | 9 |
| 2020.09.11 | 1 | 9 |
| 2020.09.16 | 5 | 10 |
| 2020.09.26 | 2 | 2 |

相关函数：[first](../f/first.md), [last](../l/last.md)

