# tmove

## 语法

`tmove(T, X, window)`

## 详情

返回 *T* 向前偏移 *window* 后对应的 *X* 中元素。即：对于 *T*
中每个时间T i，向前偏移 *window* 后为T i - *window*, 返回T
i - *window* 对应的 *X* 中的元素，若 *T*
中无对应时间，则返回Ti - *window* 前一个临近时间对应的 *X* 中的元素。

## 参数

**T** 是一个递增的整型或时间类型的向量，且不能包含 NULL 值。

**X** 是一个与 *T* 长度相同的向量。

**window** 是一个正整数或一个 [duration](../d/duration.md)。表示向前移动的区间。

## 例子

```
T = 1 1 1 2 5 6
X = 1 4 NULL -1 NULL 4
m = table(T as t,X as x)
select *, tmove(t, x, 3) from m
```

| t | x | tmove\_t |
| --- | --- | --- |
| 1 | 1 |  |
| 1 | 4 |  |
| 1 |  |  |
| 2 | -1 |  |
| 5 |  | -1 |
| 6 | 4 | -1 |

```
T = 2021.01.02 2021.01.02  2021.01.04  2021.01.05 2021.01.07 2021.01.09
X = 5 4 NULL -1 2 4
m = table(T as t,X as x)
select *, tmove(t, x, 3d) from m
```

| t | x | tmove\_t |
| --- | --- | --- |
| 2021.01.02 | 5 |  |
| 2021.01.02 | 4 |  |
| 2021.01.04 |  |  |
| 2021.01.05 | -1 | 4 |
| 2021.01.07 | 2 |  |
| 2021.01.09 | 4 | -1 |

```
select *, tmove(t, x, 1w) from m
```

| t | x | tmove\_t |
| --- | --- | --- |
| 2021.01.02 | 5 |  |
| 2021.01.02 | 4 |  |
| 2021.01.04 |  |  |
| 2021.01.05 | -1 |  |
| 2021.01.07 | 2 |  |
| 2021.01.09 | 4 | 4 |

**相关信息**

* [move](../m/move.html "move")

