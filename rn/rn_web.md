# Web 集群管理器

## 3.00.3

### 新功能

* **交互编程**界面新增 Git 集成模块。用户可以直接在 Web 界面连接到 GitHub 或 GitLab 上的 DolphinDB
  代码仓库，浏览、新建、修改并提交代码文件。
* **权限管理**模块新增计算组权限。默认管理员可以设置用户和组访问计算组的权限。
* 新增**流图监控**模块。用户可以在 Web 界面监控系统中的流图状态。
* 新增**插件管理**模块。管理员可以在任一节点上统一管理集群中的插件。

### 功能优化

* 优化各模块的设计风格，更符合用户使用逻辑。
* 优化 `plot` 函数画图功能。
* **定时巡检**模块功能增强：
  + 新增多副本表结构一致性和数据库结构一致性检查指标；
  + 优化部分指标的性能。
* 优化数组向量展示，隐藏千位分隔符。
* 优化**交互编程**模块，页面刷新后可以回到之前的标签页。
* 优化**数据面板**模块的表格展示：
  + 支持列宽根据内容适配。
  + 支持滚动时固定表头。
* 优化**配置管理**模块计算组配置校验规则。新添加的计算组名称前缀必须与任何现有计算组的前缀不同，以避免名称冲突。

### 缺陷修复

* 修复了**数据采集**模块新增订阅时出现异常报错的问题。
* 修复了**数据面板**模块：
  + 预览模式显示异常的问题。
  + 无法保存矩阵类型数据源的问题。
* 修复了**定时巡检**模块指标参数为空值时巡检报告不可查看的问题。
* 修复了3.00.2.4版本引入的在**配置管理**模块删除节点时提示错误的问题。

## 3.00.2

### 新功能

* 新增语言切换功能。用户现可通过右上角语言图标，切换中英文 Web 界面。

### 功能优化

* **数据面板** K 线图现支持用户新增自定义 Y 轴。
* 优化**流计算监控**-->**流数据表状态**-->**持久化共享流表状态**中的持久化路径列展示。
* 优化**交互编程**界面无法获取库表时的报错信息展示。

### 缺陷修复

* 无计算组访问权限的用户打开作业管理时出现异常报错。
* 网络较差时，无法加载代码编辑器。
* 删除用户时，调用数据面板回调函数失败。
* 修复**数据面板**中的如下问题：
  + 热力图无法显示标题。
  + 在最底部新增图表时会增加额外空白。
* 在**作业管理**查看日志时出现卡顿。
* 无法展示 key 较多的字典。
* 修复**权限管理**中的如下问题：
  + 无法为用户新增流数据表权限。
  + 无法获取最新共享内存表。
  + 无法获取最新用户列表。

## 3.00.2.2

### 新功能

* 新增定时巡检界面。管理员可以通过该界面设置并执行巡检计划，以了解集群的状况。

### 功能优化

* 优化流计算页面文本展示。
* 优化 Dashboard 的以下功能：
  + 合并批量分享的多个数据面板的链接，实现面板之间的自由切换。
  + 右上角新增**页数**输入框，支持在一个页面上展示多张画布。
  + 当鼠标悬停在热力图上时，可以显示横纵坐标和具体的值。
  + 热力图配置面板，最大值和最小值的默认值显示为实际数据的最大值和最小值。
* 优化报错弹窗在内容溢出时的展示样式。
* 在**交互编程**中，当标签页超过编辑区域总宽度时，支持鼠标横向滚动。
* 调整创建数据库对话框中分区类型的顺序。
* 优化数据库面板鼠标悬停时的样式显示。
* 在采集平台新建连接时，服务器地址栏支持输入域名。

### 缺陷修复

* 在**流计算监控**中刷新持久化线程无效。
* **数据面板**中的数据标签和滚动条偶尔显示不正确。
* 点击**因子平台**，不能正确跳转。

## 3.00.2.1

### 新功能

* **交互编程**新增以下功能：
  + **代码编辑**支持多个标签页。
  + **变量**和**共享变量**新增刷新按钮 。
* **数据采集**-->**连接信息**-->**连接**中，为启用的订阅新增查询功能。

### 功能优化

* 规范 URL 地址，支持页面前进、后退。
* 优化 Web 页面初始化流程。
* 优化**交互编程**中共享变量和数据库的刷新效率 。
* 完善**配置管理**-->**计算组配置**中的配置项信息。
* **金融库表向导**在未登录时，会提示用户进行登录。

### 缺陷修复

* 修复**配置管理**中的如下问题：
  + 通过 Web 页面添加代理节点出现端口号错误或其它错误。
  + 新增节点/计算组时，若名称中包含空格，校验出现问题 。
  + 新增/编辑控制节点出现报错。
  + 编辑配置项时出现的问题。
* 在集群环境中，当所有节点重启后，数据采集模块需要等待订阅节点完成启动，才能正常加载数据。
* 频繁进行前进后退切换时，偶尔出现报错。
* **流计算监控**-->**流数据表状态**中的持久化线程状态显示的字段名错误。
* 在**数据面板**中添加富文本内容时，出现报错。

## 3.00.2.0

### 新功能

* 支持展示分布式表的 iotany 类型的列。
* 新增物联网数据采集模块，支持以下功能：
  + 连接 MQTT、Kafka。
  + 管理连接下的订阅。
  + 管理数据解析模板。
* 支持存算分离：
  + 支持在集群管理中分组展示节点。
  + 支持管理计算组，修改计算组配置文件。
* 支持单点登录功能。

### 功能优化

* 优化集群管理界面显示。
* Dashboard 功能优化：
  + 支持浅色主题；
  + 支持自定义坐标轴刻度的颜色和字号。
* 支持配置仅管理员可见的 License 过期提示。
* 作业管理界面支持查看作业日志。
* 在交互编程里执行 login 函数后，页面右上角的登录状态会相应更新。

### 缺陷修复

* 在本地变量中点击查询维度表时，列名不显示。
* 单机模式下，通过功能设置启动金融数据库/物联网库表向导时，出现报错。
* 在配置管理页面的集群节点标签中，配置文件中为多个节点设置的配置项仅显示了第一条。
* Dashboard 中设置 Y 轴偏移量时，图片边界偏移量过度超过 Y 轴偏移量。
* 从集群总览跳转到其他集群时，默认跳转到交互编程。
* 通过 Web 页面修改集群节点配置后，重启数据节点/计算节点不能使配置生效

## 3.00.1.4

### 缺陷修复

* 通过 Web 页面修改集群节点配置后，重启数据节点/计算节点不能使配置生效

## 3.00.1.3

### 缺陷修复

* 在自定义函数中使用 `funcByName()` 时，关键字 def 无法高亮显示。
* 通过 Web 页面修改集群节点配置后，重启数据节点/计算节点不能使配置生效

## 3.00.1.2

### 功能优化

* 集群管理页面表格视图重构；新增卡片视图。
* 配置管理界面功能优化。
  + 控制节点新增配置项时，配置项输入框增加提示列表；
  + 查找配置项时，搜索输入框增加提示列表。
* 选中的代码在执行时若出现报错，则显示错误行在文件中的行号，而不是选中代码中的行号。
* 代码编辑器支持括号匹配及高亮。

### 缺陷修复

* 修复 `plot` 绘图 y 轴无法自适应数据范围的问题。
* 修复 dashboard 预览页面不自动更新的问题。

## 3.00.1.1

### 新功能

* 支持 Catalog：
  + 交互编程界面可查看、创建 Catalog；
  + 权限管理界面支持授予、查看 Catalog 相关的权限。
* 配置管理支持在线添加 agent，无须重启集群。

### 缺陷修复

* 修复交互编程界面某些常量的展示问题。
* 修复金融建库建表模块获取不到数据的问题。

## 3.00.1.0

### 新增功能

* 左侧面板新增“功能设置”栏，用于开启或关闭金融库表向导或者物联网库表向导。当开启功能时，会在左侧面板中增加相应的库表向导栏及界面，用户可根据界面引导选择条件，便捷地创建库表。
* 配置管理 → 集群节点配置新增支持以下配置项：
  + 系统：enableShellFunction,
    enablePKEYEngine
  + 磁盘：PKEYMetaLogDir, PKEYRedoLogDir
  + 内存：PKEYCacheEngineSize, PKEYBlockCacheSize。
* 权限管理新增支持以下权限：DB\_WRITE, DB\_OWNER, QUERY\_RESULT\_MEM\_LIMIT,
  TASK\_GROUP\_MEM\_LIMIT。
* 数据库 → 表右侧新增悬浮的注释标签，支持设置表注释。
* 支持创建 tensor 类型数据，并在变量面板中进行展示。
* Web 英文界面新增 dashboard 界面。
* 数据面板 → 变量 → 变量 → 配置变量标签中新增 SQL 导入栏，支持通过 SQL 语句导入变量。
* 数据库 → 表 → 新建查询 → 添加查询条件 → 分区列查询条件中的请选择运算符中新增”为空“和”非空“选项，支持分区列数据与空值进行比较。
* 数据浏览器对表数据新增”下载“按钮，可以选择导出全部或部分数据到 csv 文件。

### 功能优化

* 更新函数提示链接。

## 3.00.0.5

### 缺陷修复

* 通过 Web 页面修改集群节点配置后，重启数据节点/计算节点不能使配置生效

## 3.00.0.4

### 功能优化

* 数据浏览器支持将表数据导出为 CSV 格式文件。

## 3.00.0.3

### 功能优化

* 浏览器语言设置为非中文时，Web 界面语言默认显示英文。
* 为 Web 界面中的代码报错增加错误编码及相关的文档链接。

## 3.00.0.2

### 功能优化

* 优化仪表盘数据变换的动画。
* 配置集群节点时取消对主机名/IP 地址输入格式的限制。

### 故障修复

* COMPRESSED 类型变量错误显示“<undefined>”。
* 配置集群节点时多次修改同一配置框的端口号，相关配置赘余而非被覆盖。

## 2.00.12.0

### 新功能

* 新增用户权限管理界面。管理员可以通过用户管理和组管理页面对用户、组设置不同应用范围的权限，并实现批量用户管理。
* 新增配置管理界面。管理员可以通过控制节点上的配置管理界面对集群节点及配置项集中管理和设置。

### 功能优化

* 支持在交互编程界面的数据库表中查看用户权限。
* 支持在数据面板中变量配置中自定义查询按钮。
* 支持在数据面板中以热力图的形式显示矩阵。
* 支持在数据面板的表格对 SHORT, INT, LONG, FLOAT, DOUBLE, DECIMAL 类型数据排序。
* 优化了 plot 绘图后图像与显示边界之间的距离。

## 2.00.11.2

### 功能优化

* 将数据视图表头固定到表格顶部，将分页提示信息固定到底部。
* 通过 plot 函数绘图时关闭过渡动画。
* 增强了数据面板（Dashboard）中配置数据源窗口的颜色主题兼容性。
* 节点状态中不再显示 **executor 线程总数** 信息。
* 改善了 dict 类型变量数据视图界面的视觉体验。

### 故障修复

修复了数据面板（Dashboard）中点击保存按钮时偶发的卡顿问题。

## 2.00.11

### 新增功能

Notice： 为提升用户体验，DolphinDB Web 集群管理器的版本号现已调整。新的版本号与
DolphinDB Server 系列对齐。

* 功能面板中新增数据面板模块。
* 功能面板中新增流计算状态监控模块。
* 数据库浏览器中对数据表新增查询向导功能。

### 功能优化

* 建库建表的界面中增加了配置项相关的参考文档链接。
* 作业管理界面增加了悬浮提示信息。
* 优化了数据库浏览器和变量浏览器的显示样式。
* 在集群总览界面中，"State" 栏将根据节点的状态显示不同的颜色。
* 页面右上角版本信息栏中增加 web 集群管理界面的版本信息。

## 1.30.22

### 新增功能

* 通过 WEB 连接数据库时，增加 DolphinDB License 过期预警的提示弹窗。
* 通过界面方式建表时，数据列的数据类型中增加 DECIMAL128 类型。
* 增加通过界面方式创建数据库、数据表的功能。
* 数据库界面可以展示系统中所有数据库、数据表（包含表结构，列、分区）等内容。
* 编辑器界面增加执行代码、代码地图和回车补全设置按键。
* 支持 `SELECT NULL` 语句。
* 支持 SQL 关键字以大写形式使用。
* 支持创建并显示 DECIMAL 数据类型。

### 功能优化

* 优化右上角版本信息/节点信息菜单的显示样式。
* 在数据库浏览器面点击展开表的同时，在数据浏览界面展示表内容。
* 数据浏览界面中限制表格、向量、字典中的字符串可显示的最大长度为10000 个。
* 控制节点和数据节点配置界面补全了所有可用的配置选项。
* `regularArrayMemoryLimit` 配置参数的输入方式修改为输入框。
* 取消参数配置界面对部分参数输入值的限制。
* 在节点配置界面，若配置项的值为空，则不会将该配置写入配置文件。
* 取消在功能面板中展示文件系统列表，并将文件系统功能整合到交互编程中的数据库中。
* 日志浏览器调整至网页右边；数据浏览器调整至网页下方。
* 日志浏览器中最多可显示 100000 行日志。

### 故障修复

* 数据库浏览界面中的维度表菜单下会显示分区。
* 在未登录状态下，启动数据节点却没有弹框提示需要登录。
* 当查询包含 DATE 类型数据的表时，在数据浏览界面，DATE 类型的 NULL 显示为 'null' 而不是空。
* 向量中若包含单独的符号 `，则编辑器中部分文本的颜色显示不正确。
* 在数据库浏览界面下，array vector 类型的列不会在列菜单中显示。
* 本地变量中点击空的 SYMBOL 变量，会报错。
* 日志浏览器和编辑器中的字体显示非等宽。
* 当本地变量过多时，由于本地变量界面没有滚动条，导致变量溢出到共享变量界面显示。
* 异步复制相关配置项的名称不正确。

## 1.30.21

### 功能优化

* 布局优化，表格移至底部以显示更多列。
* 代码编辑器统一改为自动保存，无需手动保存。
* 优化了页面加载速度。
* 用户需要先登录才能查看数据节点日志。
* 优化数据视图显示：表格底部显示表的行、列、类型信息；当表内容高度溢出时，总是显示水平滚动条。
* 优化字体，降低了文件大小。
* 变量面板变量显示更紧凑。
* 导航栏顶部显示节点类型。
* 优化了数据库无权限的错误提示。
* 路径中含有“.”的数据库支持分级展示，如 dfs://aaa.bbb.ccc。
* 作业管理中任务状态汉化，支持根据状态搜索。
* 官网文档的函数文档已同步至最新。

### 故障修复

* 修复鼠标悬浮在 append! 等函数时没有正确显示函数提示的问题。
* 修复矩阵最后一页数据显示异常的问题。
* 修复终端 refid 错误链接需要点击两次的问题。
* 修复终端字体显示异常的问题。
* 关键字高亮逻辑修改，解决了set(), values() 函数被高亮的问题。
* 修复了绘制k线图时横坐标不对的问题。
* 修复顶部导航栏样式泄漏到编辑器的函数文档区域的问题，修复后编辑器的函数文档顶部高度恢复正常。
* 修复终端和数据视图中时间显示不正确的问题。
* 优化了登录错误时显示的错误信息。
* 数据库面板高度可调整。
* 数据库列表解决了卡顿问题。
* 修复了左侧数据库、变量、共享变量面板、高度、宽度及滚动操作相关的缺陷。

## 1.30.20

### 新增功能

* 交互编程：新增数据库管理，支持查看数据库及表。
* 新增设置面板，支持自定义小数展示位数，如固定显示两位小数 1.00。
* 支持词典 (dict) 的可视化展示。
* 点击错误代码（例如 ‘RefId: S00001’） 可跳转至解释文档。

### 功能优化

* 优化代码高亮。
* 数值支持千分位号（,）分隔，如 1,000,000,000。
* 关键字、函数提示、函数文档更新。
* 优化代码执行结果显示，使显示更紧凑。
* 优化状态管理面板，可分类显示状态信息。
* 优化了表格分页显示样式，并为新窗口打开等图标增加 tooltip。
* 作业管理: 优化任务字段名称，支持根据客户端 IP 搜索任务。

### 故障修复

* 修复通过 plot 画图传入时间类型的 labels 时，labels 未正确格式化的问题。

## 1.30.19

### 功能优化

* 在高可用集群环境下，通过 web 访问任意 controller 节点，会重定向到 leader 节点，能在 web 页面展示所有节点信息。

## 1.30.18

### 故障修复

* web 界面启用数据节点或反复重启集群，代理节点会产生僵尸子进程。

## 1.30.16

### 功能优化

* Web 任务管理界面优化：重新设计、整合了 Web 管理界面，增加了作业管理功能，支持查看、停止、取消 DolphinDB
  运行中、已提交和定时触发的作业。升级 server 版本后，需要同步更新 web 文件夹。 新版本使用了 WebSocket 协议，增加了对
  DolphinDB 二进制协议的支持，对浏览器的要求也随之提高，可能需要用户更新浏览器到最新的版本，推荐使用 Chrome 最新版或 Edge
  最新版。

